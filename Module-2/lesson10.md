# Урок №9. Классы

## Полезные ссылки

[ref VS out](https://www.c-sharpcorner.com/UploadFile/ff2f08/ref-vs-out-keywords-in-C-Sharp/)

[Наследование](https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/inheritance)

[Интерфейсы](https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/interface)

[Перегрузка членов класса](https://msdn.microsoft.com/ru-ru/library/ms229029(v=vs.100).aspx)

[Полиморфизм](https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/polymorphism)

## ref VS out

* «Магия» с классами

* Сколько переменных должна возвращать одна функция?

* Еще одна переменная должна быть изменена

![ref VS out](/Module-2/images/ref-vs-out.png)

* ref – двунаправленный

* out – еще один выходной параметр

**Мы не можем передавать properties как ref/out!!!!!!**

## Приведение типов

* Convert.ToInt32()

* int.Parse()

* (int)

* as

* int.TryParse(string value, out int val)

## Три принципа ООП

![ref VS out](/Module-2/images/oop-principles.png)

### Наследование

Механизм, позволяющий описать новый класс на основании уже существующего.

![Наследование](/Module-2/images/inheritance.png)

Пример наследования - Наш пример о машинах. Но появился новый класс – грузовые автомобили, 
с новыми свойствами – грузоподъемность, страховка, пробег. Скидка для них всегда 30%.

### Немного практики

Возвращаемся к нашему примеру. Делаем грузовики и минивены. Грузовики уже описаны, 
минивен характеризуется количеством мест для пассажиров, скидки на общих основаниях 
+ дополнительно 2 * на номер текущего месяца (от 2% в январе до 24 в декабре%).

![Множественное наследование](/Module-2/images/stop.png)

**C# не поддерживает множественное наследование**

* усложнение
* взаимодействие с разными языками

 ## Interfaces
 
 **ISomething**
 
* Декларация только

* Допускается множественное наследование

* Наследование интерфейсов

* Потомок «реализует интерфейс»

* Правило именования – I + {name}

## Немного практики

* Перенести в интерфейс все логику скидок

* Скомпоновать интерфейсы и классы

* Добавить логику «Доступны для продажи в лизинг». Содержит в себе – процент наценки + срок кредитования. 
Влияет на цену.

## Полиморфизм

* Способность использовать методы потомков которых еще не существует на момент создания базового

* Метод с одинаковым прототипом по разному реагирует на разные типы объектов

* Как правило расширяется функциональность базового класса. Но не всегда.

![Полиморфность](/Module-2/images/aliens.png)

## Домашнее задание

* Теория по ссылкам

* Практика

1. Есть склад, где хранятся некоторые товары. Склад характеризуется объемом.
2. Каждое товар характеризуется:
Название
Цена
Базовый товар - базовый товар несет в себе срок годности с момента поставки (по истечению - списание). Например, песок может храниться 5 дней, а проволока - только 3. 
3. Каждый товар имеет метод эмулятор просрочки – по указанной дате поставки возвращает дату просрочки. 